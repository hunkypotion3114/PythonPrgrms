CREATE DATABASE IF NOT EXISTS SHOP;
USE SHOP;

CREATE TABLE CUSTOMER(
    CUSTNO VARCHAR(20) PRIMARY KEY,
    CUSTNAME VARCHAR(255) NOT NULL,
    DOB DATE,
    CUSTTYPE VARCHAR(255) CHECK(CUSTTYPE IN('BASIC', 'STANDARD','PREMIUM')),
    CEMAIL CHAR(50)
);

CREATE TABLE ORDERS(
    ORDID INTEGER PRIMARY KEY,
    ORDDATE DATE NOT NULL,
    CUSTNO INTEGER,
    ORDAMOUNT FLOAT CHECK(ORDAMOUNT > 500.00),
    PAYMENTTYPE VARCHAR(255) CHECK(PAYMENTTYPE IN('COD','UPI','NET BANKING', 'CARD')),
    STATUS VARCHAR(255) CHECK(STATUS IN('PENDING','DELIVERED')),
    FOREIGN KEY(CUSTNO) REFERENCES CUSTOMER(CUSTNO)
);

ALTER TABLE CUSTOMER 
ADD CONTACT VARCHAR(10);

ALTER TABLE CUSTOMER
MODIFY CEMAIL VARCHAR(255);

INSERT INTO CUSTOMER VALUES
    ('C01','VIKSHA','1987-10-10','PREMIUM','NAME@GMAIL.COM','1234567890'),
    ('C02','PRABHU','1978-03-21','STANDARD','NAME@GMAIL.COM','1234567890'),
    ('C03','SANDY','2000-11-31','STANDARD','NAME@GMAIL.COM','1234567890'),
    ('C04','MONISH','1990-12-13','BASIC','NAME@GMAIL.COM','1234567890')
;

INSERT INTO ORDERS VALUES
    (1,'2019-10-11','C01',678,'COD','DELIVERED'),
    (2,'2019-10-11','C01',8790,'UPI','DELIVERED'),
    (3,'2019-08-11','C02',6700,'UPI','PENDING'),
    (4,'2019-08-11','C03',8900,'NET','DELIVERED'),
    (5,'2019-09-08','C03',2340,'NET','PENDING'),
    (6,'2019-09-08','C04',4560,'COD','DELIVERED'),
    (7,'2019-09-08','C04',1200,'CARD','PENDING'),
;

SELECT 